# ECサイトバックエンド要件定義

## システム概要
ユーザーが商品を閲覧し、カートに追加して注文できるシンプルなECサイトのバックエンドAPIを構築します。このAPIは、ユーザー登録や認証、商品管理、カート、注文管理の機能を提供します。

## 必須機能

### 1. ユーザー管理
- **ユーザー登録**：新規ユーザーを登録できる。
- **ログイン・ログアウト**：JWTを利用して認証トークンを発行し、ログイン状態を管理。
- **ユーザーデータの取得・更新**：登録したユーザー情報を取得・更新可能。

### 2. 商品管理
- **商品一覧の取得**：すべての商品を取得し、クライアント側で一覧表示可能。
- **商品詳細の取得**：特定の商品情報を詳細に取得。
- **商品追加・更新・削除**：管理者のみ商品情報のCRUD操作が可能。

### 3. カート機能
- **カートへの商品追加・削除**：ユーザーが商品をカートに追加・削除。
- **カート内の商品一覧取得**：ユーザーごとにカート内容を取得し、表示可能。

### 4. 注文処理
- **注文の作成**：カート内の商品情報を元に注文を作成。
- **注文ステータス管理**：注文の進行状況を管理できる（例：受注、発送中、完了など）。

## 使用技術

### 開発環境
- **Node.js + Express**：サーバーサイドのフレームワーク。
- **MongoDB**：データベース（MongoDB Atlasやローカル環境）。
- **JWT**：ユーザー認証用のトークン発行。
- **Postman**：APIのテストツールとして利用（フロントエンドがない場合の動作確認用）。

# フロントエンドページ構成（ECサイトデモ用）

このECサイトバックエンドのデモを行うために必要なフロントエンドページは、最低限以下の5ページで構成できます。これで主要なバックエンド機能の操作が確認できるようになります。

---

## 1. ユーザー認証ページ（ログイン/登録ページ）

- **目的**: 新規ユーザーの登録およびログインを提供する。
- **要件**: 
  - 登録用フォーム（ユーザー名、パスワード入力）。
  - ログイン用フォーム（ユーザー名、パスワード入力）。
  - ログイン成功後にJWTトークンを保存し、各ページでの認証状態を管理。
- **ルーティング例**: `/login`、`/register`

## 2. 商品一覧ページ

- **目的**: ECサイトのすべての商品を表示する。
- **要件**: 
  - APIから商品一覧を取得し、名前・価格・サムネイルを表示。
  - 各商品をクリックすると詳細ページへ遷移。
- **ルーティング例**: `/products`

## 3. 商品詳細ページ

- **目的**: 特定の商品の詳細情報を表示し、カートに追加する機能を提供。
- **要件**: 
  - 商品の詳細情報（名前、説明、価格など）をAPIから取得し表示。
  - 「カートに追加」ボタンを設置し、追加処理を実行。
- **ルーティング例**: `/products/:productId`

## 4. カートページ

- **目的**: カートに追加した商品の一覧を確認し、数量の変更や削除ができる。
- **要件**: 
  - カート内商品のリストをAPIから取得し、一覧表示。
  - 各商品の数量変更、削除機能。
  - 「注文を確定」ボタンを設置して、注文処理を実行。
- **ルーティング例**: `/cart`

## 5. 注文履歴ページ

- **目的**: ユーザーが行った注文の一覧や詳細を確認できる。
- **要件**: 
  - ユーザーの注文履歴をAPIから取得し、一覧表示。
  - 各注文のステータス（例：受注、発送済み）を確認可能。
- **ルーティング例**: `/orders`

---

## 各ページの役割とAPI連携

1. **ユーザー認証ページ**: `/api/users/register` と `/api/users/login` エンドポイントと連携。
2. **商品一覧ページ**: `/api/products` エンドポイントを使用して商品一覧を取得。
3. **商品詳細ページ**: `/api/products/:id` エンドポイントで商品の詳細を取得し、`/api/cart` でカートに追加。
4. **カートページ**: `/api/cart` でカート内容を取得・更新・削除、`/api/orders` で注文処理を実行。
5. **注文履歴ページ**: `/api/orders` で注文履歴を取得し、ステータス確認。

---

この5ページで、基本的なECサイトのバックエンド機能を確認・テストするために必要な最低限のフロントエンドを構成できます。
**
